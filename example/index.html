<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Artemis</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
    <script>var Artemis = Artemis || {};</script>
    <script src="../lib/core/localjs.js"></script>
    <script src="../src/json/json.js"></script>
    <script src="../lib/widgets/widgets.js"></script>
    <script src="../src/eventemitter/eventemitter.js"></script>
    <script src="../src/storage/storage.js"></script>
    <script src="../src/cookie/cookie.js"></script>
    <script src="../lib/core/core.js"></script>
    <script src="../lib/core/main.js"></script>
    
    <script src="../lib/core/qboot.js"></script>
    <script src="../lib/core/qboot.load.js"></script>
    <script src="../src/widgets/slider/slider.js"></script>
    
</head>
<body>

<div id="slider"></div>
<script>


$(function () {
    $.storage.set('number', Math.random());

    ArtemisHub.on('global::server', function (data) {
        console.log(data);
    });

    ArtemisHub.emit('global::server', { name: $.storage.get('number') });



    $.cookie('name', 'liangchao', { expires: 7 });
    $.cookie('age', 23, { expires: 7 });
    console.log($.cookie());

    console.log(Artemis.config.get('version'), Artemis.config.get('name', 'lc'));
    
    console.log(Artemis.core.str.trim(" Hello Wolrd "));

    var __qbootvar = 1;
    // qboot
    setTimeout(function () {
        __qbootvar = 5;
    }, 5000);
    qboot.await(function () { return __qbootvar == 5; }, function () {
        console.log('__qboot await 5s....');
    });

    // 监听页面变化事件
    ArtemisHub.on('global::viewport.change', function (e) {
        console.log(e);
    });

    // CMD模块加载
    __d('appInit', ['common.js.mid', 'widget.ui.slider'], function (global, require, requireDynamic, requireLazy) {
        var MID = require('common.js.mid');
        $('#slider').slider();
        console.log(MID.mid);
        console.log(Artemis.config.__config__);
    }, 3);


});
</script>    
</body>
</html>