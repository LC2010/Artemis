<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Artemis</title>
    <script>var Artemis = Artemis || {};</script>
    <script src="../lib/core/localjs.js"></script>
    <script src="../src/json/json.js"></script>
    <script src="../lib/widgets/widgets.js"></script>
    <script src="../src/eventemitter/eventemitter.js"></script>
    <script src="../src/storage/storage.js"></script>
    <script src="../src/cookie/cookie.js"></script>
    <script src="../lib/core/core.js"></script>
    <script src="../lib/core/main.js"></script>
    
    <script src="../lib/core/qboot.js"></script>
    <script src="../lib/core/qboot.load.js"></script>
    
</head>
<body>
<div id="odiv" style="width:100px;height:100px;background-color:blue;position:absolute;left:10px"></div>
<script>


$(function () {
    $.storage.set('number', Math.random());

    ArtemisHub.on('global::server', function (data) {
        console.log(data);
    });

    ArtemisHub.emit('global::server', { name: $.storage.get('number') });

    $('#odiv').click(function () {
        console.log($(this).position);
        $(this).position({ my: 'left + 100' });
    });

    $.cookie('name', 'liangchao', { expires: 7 });
    $.cookie('age', 23, { expires: 7 });
    console.log($.cookie());

    console.log(Artemis.config.get('version'), Artemis.config.get('name', 'lc'));
    console.log(Artemis.config.__config__);
    console.log(Artemis.core.str.trim(" Hello Wolrd "));

    var __qbootvar = 1;
    // qboot
    setTimeout(function () {
        __qbootvar = 5;
    }, 5000);
    qboot.await(function () { return __qbootvar == 5; }, function () {
        console.log('__qboot await 5s....');
    });

    // 监听页面变化事件
    ArtemisHub.on('global::viewport.change', function (e) {
        console.log(e);
    });

    // CMD模块加载
    __d('appInit', ['common.js.mid'], function (global, require, requireDynamic, requireLazy) {
        var MID = require('common.js.mid');
        console.log(MID.mid);
    }, 3);

    
});
</script>    
</body>
</html>